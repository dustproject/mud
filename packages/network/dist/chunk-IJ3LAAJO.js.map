{"version":3,"sources":["../src/workers/Recover.worker.ts","../src/utils.ts"],"sourcesContent":["import { Message } from \"@latticexyz/services/ecs-relay\";\nimport { expose } from \"threads/worker\";\nimport { verifyMessage } from \"ethers/lib/utils.js\";\nimport { messagePayload } from \"../utils\";\n\nexport function recoverAddress(msg: Message) {\n  return verifyMessage(messagePayload(msg), msg.signature);\n}\n\n// expose({ recoverAddress });\n","import { Message } from \"@latticexyz/services/ecs-relay\";\nimport { keccak256 } from \"ethers/lib/utils.js\";\n\n// Message payload to sign and use to recover signer\nexport function messagePayload(msg: Message) {\n  return `(${msg.version},${msg.id},${keccak256(msg.data)},${msg.timestamp})`;\n}\n"],"mappings":"AAEA,OAAS,iBAAAA,MAAqB,sBCD9B,OAAS,aAAAC,MAAiB,sBAGnB,SAASC,EAAeC,EAAc,CAC3C,MAAO,IAAIA,EAAI,WAAWA,EAAI,MAAMF,EAAUE,EAAI,IAAI,KAAKA,EAAI,YACjE,CDDO,SAASC,EAAeC,EAAc,CAC3C,OAAOC,EAAcC,EAAeF,CAAG,EAAGA,EAAI,SAAS,CACzD","names":["verifyMessage","keccak256","messagePayload","msg","recoverAddress","msg","verifyMessage","messagePayload"]}